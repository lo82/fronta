

<app-header></app-header>
    <app-nav></app-nav>
<div id="main" >
  <accordion>
    <accordion-group heading="Crear Usuario" [isOpen]="open">
    
      <div class="form-group row">

    <div class="card-header" style="text-align:center;"><h4 style="background-color:whitesmoke ;">AGREGAR USUARIO</h4></div>
        <div class="mx-auto col-10 col-md-8 col-lg-6">
          <form [formGroup]="datoForm"   novalidate>
            
            <div class="form-group row">
                <label class="control-label col-sm-2" for="rut">Rut :</label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.rut" name="rut" required formControlName="rut" >
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2" for="nombre" >Nombre Fantasia : </label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.nombreUsuario" name="nombre_usuario" required minlength="4"  formControlName="nombre_usuario">
                    
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2" for="nombre" >Primer Nombre : </label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.nombre" name="nombre" required minlength="4"  formControlName="nombre">
                    
                </div>
            </div>

            <div class="form-group row">
              <label class="control-label col-sm-2" for="nombre" >Segundo Nombre: </label>
              <div class="col-sm-4 col-offset-2">
                  <input type="text" class="form-control" [(ngModel)]="usuario.nombre_segundo" name="segundo_ombre" required minlength="4"  formControlName="nombre">   
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2"  for="apellido">Primer Apellido : </label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.apellido" name="apellido" required formControlName="apellido">
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2"  for="apellido">Segundo Apellido : </label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.apellido_segundo" name="apellido" required formControlName="apellido_segundo">
                </div>
            </div>

            <label class="control-label col-sm-2"  for="apellido">Cargo : </label>
            <select name="miselect" [(ngModel)]="usuario.tipo" class="form-select-sm" formControlName="tipo">
                <option [value]="item" *ngFor="let item of cargo"  >{{item}}</option>
              </select>


            <div class="form-group row">
                <label class="control-label col-sm-2" for="email">Email :</label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.email" name="email" required email  formControlName="email">
                </div>
            </div>


            <div class="form-group row">
                <label class="control-label col-sm-2" for="email">Imposiciones:</label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.imposiciones" name="email" required email  formControlName="imposiciones">
                </div>
            </div>


            <div class="form-group row">
                <label class="control-label col-sm-2" for="email">Estado Civil :</label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.estado_civil" name="email" required email  formControlName="estado_civil">
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2" for="email">Dirección:</label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.direccion" name="email" required email  formControlName="direccion">
                </div>
            </div>


            <div class="form-group row">
                <label class="control-label col-sm-2" for="email">Afp:</label>
                <div class="col-sm-4 col-offset-2">
                    <input type="text" class="form-control" [(ngModel)]="usuario.afp" name="email" required email  formControlName="afp">
                </div>
            </div>


            <div class="form-group row">
                <label class="control-label col-sm-2" for="nom_us" >Contraseña :</label>
                <div class="col-sm-4 col-offset-2">
                    <div class="input-group">
                        <!-- Change input type to be dynamic -->
                        <input [type]="fieldTextType ? 'text' : 'password'" class="form-control"
                            placeholder="Ingrese su password *" formControlName="password"
                            [(ngModel)]="usuario.password"   />
                        <div class="input-group-append">
                            <span class="input-group-text">
                                <i class="fa" [ngClass]="{
          'fa-eye-slash': !fieldTextType,
          'fa-eye': fieldTextType
        }" (click)="toggleFieldTextType()"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <label class="control-label col-sm-2" for="nom_us" >Fecha De Nacimiento :</label>
                <div class="col-xs-12 col-12 col-md-4 form-group mb-3">
                  <input type="text"
                         class="form-control"
                         #dp="bsDatepicker"
                         bsDatepicker
                         [(ngModel)]="usuario.fecha_nacimiento"

                         formControlName ="fecha_nacimiento"
                         [bsValue]="fecha_nacimiento"
                         [bsConfig]="{ isAnimated: true, dateInputFormat: 'YYYY-MM-DD' }"
                         >
                </div>
                
                <div class="col-xs-12 col-12 col-md-3 form-group mb-3">
                 
                  
                </div>
              </div>

            <div class="col-sm-10 col-offset-5">
                <button class="btn btn-success" role="button" (click)='create()' >Crear</button>
                
                <ng-template #elseBlock>
                
                </ng-template>

                <div class="form-grup row">
                    <div class="col-sm-5"></div>

                    <div class="col-sm-1 col-offset-5">
                        <button class="btn btn-secondary" (click)='volver()' role="button">Volver</button>
                    </div>
                </div>

            </div>
          </form>
          <div class="col-sm">
            <img *ngIf="usuario?.foto" src="http://localhost:8080/api/uploads/{{usuario.foto}}" class="img-thumbnail rounded">
        </div>

        <div class="col-sm-1">
            <button class="btn btn-primary" role="button" (click)='update()'>Editar</button>

        </div>


   
</div>
</div>

   

    </accordion-group>
  </accordion>


</div>